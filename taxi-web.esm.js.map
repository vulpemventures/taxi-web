{"version":3,"file":"taxi-web.esm.js","sources":["../src/elements/ButtonPrimary.tsx","../src/elements/ButtonTransparent.tsx","../src/Layout.tsx","../src/elements/ButtonDisabled.tsx","../src/elements/InputWithButton.tsx","../src/components/TopupWithAsset.tsx","../src/components/TopupWithLN.tsx","../src/elements/ButtonInfo.tsx","../src/elements/ButtonRadio.tsx","../src/components/Intro.tsx","../src/App.tsx","../src/index.tsx"],"sourcesContent":["import React from 'react';\n\ninterface Props {\n  onClick?: any;\n  disabled?: boolean;\n}\n\nconst Button: React.FunctionComponent<Props> = props => (\n  <button\n    className=\"button is-primary is-medium\"\n    onClick={props.onClick}\n    disabled={props.disabled || false}\n  >\n    <h1 className=\"title has-text-dark is-6\">{props.children}</h1>\n  </button>\n);\n\nexport default Button;\n","import React from 'react';\n\ninterface Props {\n  onClick?: any;\n  disabled?: boolean;\n}\n\nconst Button: React.FunctionComponent<Props> = props => (\n  <button\n    className=\"button is-dark is-medium\"\n    style={{ border: 'none' }}\n    disabled={props.disabled || false}\n    onClick={props.onClick}\n  >\n    <h1 className=\"title is-6\">{props.children}</h1>\n  </button>\n);\n\nexport default Button;\n","import React from 'react';\n\nimport ButtonPrimary from './elements/ButtonPrimary';\nimport ButtonTransparent from './elements/ButtonTransparent';\n\nconst taxiImage = require('./images/taxi.png');\nconst currentYear = new Date().getFullYear();\n\ninterface Props {\n  title?: string;\n  menu?: Array<string>;\n  onMenuChange?: any;\n}\n\nclass Layout extends React.Component<Props> {\n  state = {\n    selected: 0,\n  };\n\n  render() {\n    const withTitle = this.props.title ? (\n      <section className=\"hero is-light\">\n        <div className=\"hero-body\">\n          <div className=\"container\">\n            <div className=\"columns\">\n              <div className=\"column has-text-centered\">\n                <h1 className=\"title\">{this.props.title}</h1>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    ) : null;\n\n    const menu =\n      this.props.menu &&\n      this.props.menu.map((m: string, i: number) => {\n        if (this.state.selected === i)\n          return (\n            <div key={i} className=\"navbar-item\">\n              <ButtonPrimary>{m}</ButtonPrimary>\n            </div>\n          );\n\n        return (\n          <div key={i} className=\"navbar-item\">\n            <ButtonTransparent\n              onClick={() => {\n                this.props.onMenuChange(i);\n                this.setState({ selected: i });\n              }}\n            >\n              {m}\n            </ButtonTransparent>\n          </div>\n        );\n      });\n\n    return (\n      <div style={{ minHeight: '100vh', position: 'relative' }}>\n        {withTitle}\n        <nav\n          className=\"navbar is-dark\"\n          role=\"navigation\"\n          aria-label=\"main navigation\"\n        >\n          <div className=\"navbar-brand ml-6\">\n            <a className=\"navbar-item\" href=\"https://liquid.taxi\">\n              <img\n                src={taxiImage}\n                alt=\"Liquid Taxi\"\n                style={{ height: '48px' }}\n              />\n            </a>\n          </div>\n          <div className=\"navbar-menu\">\n            <div className=\"navbar-end\">{menu}</div>\n          </div>\n        </nav>\n        <div\n          style={{\n            paddingTop: '5rem',\n            paddingRight: '1rem',\n            paddingLeft: '1rem',\n            paddingBottom: '5rem',\n          }}\n        >\n          {this.props.children}\n        </div>\n        <footer\n          style={{\n            position: 'absolute',\n            bottom: 0,\n            height: '5rem',\n            width: '100%',\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}\n        >\n          <p>\n            <a\n              href=\"https://vulpem.com\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              © {currentYear} Vulpem Ventures OU\n            </a>\n            {` - `}\n            <a\n              href=\"https://alissadeleva.com\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Design by AD\n            </a>\n          </p>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default Layout;\n","import React from 'react';\n\nconst Button: React.FunctionComponent<{}> = props => (\n  <button className=\"button is-grey is-medium\" disabled>\n    <h1 className=\"title is-6 has-text-dark\">{props.children}</h1>\n  </button>\n);\n\nexport default Button;\n","import React from 'react';\n\ninterface Props {\n  inputPlaceholder?: string;\n  inputText?: string;\n  onButtonClick?: any;\n  onInputChange?: any;\n  hasError?: boolean;\n  errorMessage?: string;\n  buttonDisabled?: boolean;\n  buttonText: string;\n}\n\nconst Input: React.FunctionComponent<Props> = props => {\n  const inputClass = `input is-medium ${props.hasError && `is-danger`}`;\n  return (\n    <div>\n      <div className=\"field has-addons\">\n        <input\n          type=\"text\"\n          readOnly={props.inputText ? true : false}\n          defaultValue={props.inputText}\n          onChange={(e: any) => props.onInputChange(e.target.value)}\n          className={inputClass}\n          placeholder={props.inputPlaceholder}\n        />\n        <button\n          className=\"button is-primary is-medium\"\n          onClick={props.onButtonClick}\n          disabled={props.buttonDisabled || false}\n        >\n          <h1 className=\"title has-text-dark is-6\">{props.buttonText}</h1>\n        </button>\n      </div>\n      {props.hasError && (\n        <div className=\"notification is-danger\">{props.errorMessage}</div>\n      )}\n    </div>\n  );\n};\n\nexport default Input;\n","import React, { useState } from 'react';\n\nimport { copyToClipboard } from 'copy-lite';\nimport { TaxiClient } from 'taxi-protobuf/generated/js/TaxiServiceClientPb';\nimport {\n  TopupWithAssetRequest,\n  TopupWithAssetReply,\n  Topup,\n} from 'taxi-protobuf/generated/js/taxi_pb';\n\nimport ButtonPrimary from '../elements/ButtonPrimary';\nimport ButtonDisabled from '../elements/ButtonDisabled';\nimport InputWithButton from '../elements/InputWithButton';\n\nconst config = require('../config.json');\n\nconst USDT_ASSET_ID = process.env['USDT_ASSET_ID'] || config.USDT_ASSET_ID;\n\nconst TAXI_API_URL = process.env['TAXI_API_URL'] || config.TAXI_API_URL;\n\ninterface Props {\n  onError(message: string): void;\n}\n\nconst TopupWithAsset: React.FunctionComponent<Props> = props => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [topup, setTopup] = useState({});\n  const [expiry, setExpiry] = useState(0);\n\n  const onRequestClick = (evt: React.MouseEvent<HTMLButtonElement>) => {\n    evt.preventDefault();\n\n    if (isLoading) return;\n\n    setIsLoading(true);\n    const client = new TaxiClient(TAXI_API_URL);\n\n    const request = new TopupWithAssetRequest();\n    request.setAssetHash(USDT_ASSET_ID);\n\n    client\n      .topupWithAsset(request, null)\n      .then((response: TopupWithAssetReply) => {\n        const topup = response.getTopup();\n        const expiry = response.getExpiry();\n\n        if (!topup) return props.onError('Internal error');\n\n        setTopup(topup.toObject());\n        setExpiry(expiry);\n      })\n      .catch((e: Error) => props.onError(e.message || JSON.stringify(e)));\n\n    setIsLoading(false);\n  };\n\n  if (isLoading) return <h1 className=\"title is-3\">Loading...</h1>;\n\n  return (\n    <div>\n      {!isLoading && Object.keys(topup).length > 0 ? (\n        <Result topup={topup as Topup.AsObject} expiryTimestamp={expiry} />\n      ) : (\n        <div className=\"container\">\n          <h1 className=\"title is-3 mt-6 mb-6\">Top-up with Liquid Tether</h1>\n          <p className=\"subtitle is-6\">\n            1. Request a partial signed transaction. This includes Liquid\n            Bitcoin for the fees\n          </p>\n          <p className=\"subtitle is-6\">\n            2. Import in your wallet and adds your USDt inputs and outputs{' '}\n          </p>\n          <p className=\"subtitle is-6\">\n            3. Broadcats the final transaction to the network within the\n            expiration time (by default 3 minutes).{' '}\n          </p>\n          <ButtonCentered onClick={onRequestClick} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst ButtonCentered: React.FunctionComponent<{\n  onClick(evt: React.MouseEvent<HTMLButtonElement>): void;\n}> = props => {\n  return (\n    <div className=\"has-text-centered\">\n      <ButtonPrimary onClick={props.onClick}>Request a Topup</ButtonPrimary>\n    </div>\n  );\n};\n\nconst Result: React.FunctionComponent<{\n  topup: Topup.AsObject;\n  expiryTimestamp: number;\n}> = props => {\n  const { topup, expiryTimestamp } = props;\n  const assetAmountFractional = topup.assetAmount / 10 ** 8;\n  const assetSpreadFractional = topup.assetSpread / 10 ** 8;\n  const expiryDate = new Date(expiryTimestamp * 1000);\n\n  const [copySuccess, setCopySuccess] = useState('');\n  const [showDetails, setShowDetails] = useState(false);\n  const [showInstructions, setShowInstructions] = useState(false);\n\n  const copy = (value: string) => {\n    copyToClipboard(value);\n    setCopySuccess('✅ Copied!');\n    setTimeout(() => setCopySuccess(''), 1500);\n  };\n\n  const toggleDetails = (evt: React.MouseEvent<HTMLAnchorElement>) => {\n    evt.preventDefault();\n    setShowDetails(!showDetails);\n  };\n\n  const toggleInstructions = (evt: React.MouseEvent<HTMLAnchorElement>) => {\n    evt.preventDefault();\n    setShowInstructions(!showInstructions);\n  };\n\n  return (\n    <div>\n      <div className=\"has-text-centered\">\n        <p className=\"subtitle is-6 mt-6\">ORDER {topup.topupId}</p>\n        <h1 className=\"title is-3 mt-6 mb-3\">{`${assetAmountFractional} USDt`}</h1>\n        <p className=\"subtitle is-6\">\n          {/* eslint-disable-next-line */}\n          <a href=\"#\" onClick={toggleDetails}>{`${!showDetails ? `View` : `Hide`} details`}</a>\n        </p>\n        {showDetails && (\n          <div className=\"notification is-warning has-text-left\">\n            <p className=\"subtitle is-6\">\n              Amount to be paid (Liquid Tether): {assetAmountFractional} USDt\n            </p>\n            <p className=\"subtitle is-6\">\n              Taxi service fee (Liquid Tether): {assetSpreadFractional} USDt\n            </p>\n            <p className=\"subtitle is-6\">\n              On-chain fees (Liquid Bitcoin): 0.00001 L-BTC\n            </p>\n          </div>\n        )}\n        <img\n          src={require('../images/success.png')}\n          alt=\"success icon after a topup with Liquid.Taxi\"\n        />\n        <h1 className=\"title is-5 mt-3 mb-6\"> Topup completed</h1>\n        <h1 className=\"title is-6 mt-6 has-text-left\">\n          Transaction with L-BTC fees\n        </h1>\n        <InputWithButton\n          buttonText={copySuccess.length > 0 ? copySuccess : 'Copy'}\n          inputText={topup.partial}\n          onButtonClick={() => copy(topup.partial)}\n        />\n        <p className=\"subtitle is-6 mt-6\">\n          {`You have until`}{' '}\n          <b>\n            {' '}\n            {`${expiryDate.toLocaleTimeString()} of ${expiryDate.toLocaleDateString()}`}{' '}\n          </b>{' '}\n          {`to fund the transaction with enough Liquid Tether to cover the\n          fee of ${assetAmountFractional} USDt and broadcast it through the Liquid Network.`}\n        </p>\n        <ButtonPrimary onClick={toggleInstructions}>\n          Import into Liquid.Coach\n        </ButtonPrimary>\n        <ButtonDisabled>Open with Marina </ButtonDisabled>\n      </div>\n      {showInstructions && (\n        <div className=\"container\">\n          <h1 className=\"title is-3 mt-6 mb-6\">\n            How to import a topup with Liquid.Coach\n          </h1>\n          <p className=\"subtitle is-6\">\n            1. Go to{' '}\n            <a href=\"https://liquid.coach\" target=\"_blank\" rel=\"noreferrer\">\n              Liquid.Coach\n            </a>{' '}\n          </p>\n          <p className=\"subtitle is-6\">\n            2. Paste your address holding USDt or generate a Liquid wallet in\n            the browser\n          </p>\n          <p className=\"subtitle is-6\">\n            3. Click on <b>Import</b> and copy-paste the{' '}\n            <b>Transaction with L-BTC fees</b> above\n          </p>\n          <p className=\"subtitle is-6\">\n            4. <b>Inputs:</b> Add your USDt input(s) selecting from the select\n            box\n          </p>\n          <p className=\"subtitle is-6\">\n            5. <b>Outputs:</b> Add you USDt output(s), like the receiver output\n            and the eventual USDt change\n          </p>\n          <p className=\"subtitle is-6\">\n            6. Click on <b>Encode</b> and then <b>Sign</b> and paste your\n            mnemonic phrase\n          </p>\n          <p className=\"subtitle is-6\">\n            7. Broadcast the resulting hex encoded transaction\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TopupWithAsset;\n","import React from 'react';\n\n//import InputWithButton from '../elements/InputWithButton';\n\ninterface Props {}\n\nconst Topup: React.FunctionComponent<Props> = () => {\n  return <h1 className=\"title has-text-centered mt-6\">Coming soon</h1>;\n  /*return (\n    <div>\n      <h1 className=\"title is-3 mt-6\">Top-up with Lightning Network</h1>\n      <p className=\"subtitle is-5 mt-3 mb-6\">\n        1. Provide a transaction (PSET format) spending your Liquid assets{' '}\n        <br />\n        2. Pay the Lightning Network invoice <br />\n        3. Once paid, we will add L-BTC fees on your behalf <br />\n        4. Import the transaction in your wallet. It's ready to be signed\n      </p>\n      <InputWithButton\n        buttonText=\"Top-up\"\n        onSubmit={() => console.log('clicked')}\n      />\n    </div>\n  );*/\n};\n\nexport default Topup;\n","import React from 'react';\n\ninterface Props {\n  onClick?: any;\n  disabled?: boolean;\n}\n\nconst Button: React.FunctionComponent<Props> = props => (\n  <button\n    className=\"button is-dark is-medium\"\n    style={{ borderColor: '#fdfffc' }}\n    disabled={props.disabled || false}\n    onClick={props.onClick}\n  >\n    <h1 className=\"title is-6\">{props.children}</h1>\n  </button>\n);\n\nexport default Button;\n","import React, { useState } from 'react';\n\nimport ButtonPrimary from './ButtonPrimary';\nimport ButtonInfo from './ButtonInfo';\n\ninterface Props {\n  defaultIndex?: number;\n  onChange: any;\n  values: Array<string>;\n}\n\nconst Button: React.FunctionComponent<Props> = props => {\n  const [selected, setSelected] = useState(props.defaultIndex || 0);\n\n  const onButtonClick = (index: number) => {\n    // Do other stuff\n    props.onChange(index);\n    setSelected(index);\n  };\n  const buttons = props.values.map((v, index) => {\n    if (selected === index)\n      return <ButtonPrimary key={index}>{v}</ButtonPrimary>;\n\n    return (\n      <ButtonInfo key={index} onClick={() => onButtonClick(index)}>\n        {v}\n      </ButtonInfo>\n    );\n  });\n  return <div className=\"buttons has-addons is-centered\">{buttons}</div>;\n};\n\nexport default Button;\n","import React from 'react';\n\nconst taxiImage = require('../images/taxi.png');\n\ninterface Props {}\n\nconst Intro: React.FunctionComponent<Props> = () => {\n  return (\n    <section className=\"hero hero-body-padding-small is-medium\">\n      <div className=\"hero-body\">\n        <div className=\"columns\">\n          <div className=\"column pl-6\">\n            <h1 className=\"title is-3 mt-6\">Liquid Taxi</h1>\n            <p className=\"subtitle is-5 mt-3 mb-6\">\n              Move around your Liquid assets without L-BTC. Pay per use with\n              USDt or buy a prepaid package to get an API KEY\n            </p>\n          </div>\n          <div className=\"column is-centered has-text-centered\">\n            <img src={taxiImage} alt=\"Liquid Taxi\" />\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Intro;\n","import React, { useState } from 'react';\nimport Layout from './Layout';\n\nimport TopupWithAsset from './components/TopupWithAsset';\nimport TopupWithLN from './components/TopupWithLN';\n\nimport ButtonRadio from './elements/ButtonRadio';\nimport Intro from './components/Intro';\n\ninterface Props {}\n\nconst RADIO_VALUES = ['Pay with USDt', 'Use API KEY'];\n\nenum VIEW {\n  ASSET = 1,\n  LN = 2,\n}\n\nconst App: React.FunctionComponent<Props> = () => {\n  const [view, setView] = useState(VIEW.ASSET);\n  const [error, setError] = useState('');\n\n  return (\n    <Layout menu={['Top-up']}>\n      <Intro />\n      <div className=\"container\">\n        {error.length > 0 && (\n          <div className=\"notification is-danger is-large\">\n            {' '}\n            <button\n              className=\"delete is-large\"\n              onClick={() => setError('')}\n            ></button>\n            {error}\n          </div>\n        )}\n        <div className=\"columns\">\n          <div className=\"column is-6-desktop is-offset-3-desktop\">\n            <ButtonRadio\n              onChange={(i: number) => setView(i + 1)}\n              values={RADIO_VALUES}\n            />\n            {view === VIEW.ASSET ? (\n              <TopupWithAsset onError={(msg: string) => setError(msg)} />\n            ) : (\n              <TopupWithLN />\n            )}\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"names":["Button","props","React","className","onClick","disabled","children","style","border","taxiImage","require","currentYear","Date","getFullYear","Layout","selected","render","withTitle","title","menu","map","m","i","state","key","ButtonPrimary","ButtonTransparent","onMenuChange","setState","minHeight","position","role","href","src","alt","height","paddingTop","paddingRight","paddingLeft","paddingBottom","bottom","width","display","justifyContent","alignItems","target","rel","Component","Input","inputClass","hasError","type","readOnly","inputText","defaultValue","onChange","e","onInputChange","value","placeholder","inputPlaceholder","onButtonClick","buttonDisabled","buttonText","errorMessage","config","USDT_ASSET_ID","process","env","TAXI_API_URL","TopupWithAsset","useState","isLoading","setIsLoading","topup","setTopup","expiry","setExpiry","onRequestClick","evt","preventDefault","client","TaxiClient","request","TopupWithAssetRequest","setAssetHash","topupWithAsset","then","response","getTopup","getExpiry","onError","toObject","catch","message","JSON","stringify","Object","keys","length","Result","expiryTimestamp","ButtonCentered","assetAmountFractional","assetAmount","assetSpreadFractional","assetSpread","expiryDate","copySuccess","setCopySuccess","showDetails","setShowDetails","showInstructions","setShowInstructions","copy","copyToClipboard","setTimeout","toggleDetails","toggleInstructions","topupId","InputWithButton","partial","toLocaleTimeString","toLocaleDateString","ButtonDisabled","Topup","borderColor","defaultIndex","setSelected","index","buttons","values","v","ButtonInfo","Intro","RADIO_VALUES","VIEW","App","ASSET","view","setView","error","setError","ButtonRadio","msg","TopupWithLN","ReactDOM","document","getElementById"],"mappings":"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"}